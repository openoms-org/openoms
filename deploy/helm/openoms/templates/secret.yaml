{{/*
  Plain-text Secret for development / bootstrap only.
  For production, use sealed-secrets or an external secret operator:

    # Install sealed-secrets controller, then:
    kubectl create secret generic openoms-secrets \
      --namespace openoms \
      --from-literal=DATABASE_URL='postgres://...' \
      --from-literal=JWT_SECRET='...' \
      --dry-run=client -o yaml \
      | kubeseal --controller-namespace kube-system --format yaml \
      > sealed-secret.yaml

  Or use ExternalSecrets with your preferred backend (AWS SSM, Vault, etc.).
*/}}
{{- if .Values.secrets.createPlainSecret }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "openoms.secretName" . }}
  namespace: {{ .Values.namespace }}
  labels:
    {{- include "openoms.labels" . | nindent 4 }}
type: Opaque
stringData:
  DATABASE_URL: "CHANGE_ME"
  MIGRATION_DATABASE_URL: "CHANGE_ME"
  JWT_SECRET: "CHANGE_ME"
  ENCRYPTION_KEY: "CHANGE_ME"
  S3_ACCESS_KEY: "CHANGE_ME"
  S3_SECRET_KEY: "CHANGE_ME"
  ALLEGRO_WEBHOOK_SECRET: "CHANGE_ME"
  INPOST_API_TOKEN: "CHANGE_ME"
  INPOST_ORGANIZATION_ID: "CHANGE_ME"
  INPOST_WEBHOOK_SECRET: "CHANGE_ME"
  OPENAI_API_KEY: "CHANGE_ME"
{{- end }}
